//>>built
define("versa/api/Zone",["dojo/_base/declare","versa/api/_Object","versa/api/_Configurable","versa/api/Groups","versa/api/Libraries","versa/api/Roles","versa/api/Users","versa/api/DocumentTypes","versa/api/PropertyDefinitions","versa/api/PropertyMappings","versa/api/ChoiceLists","versa/api/ViewDefinitions","versa/api/CellDefinitions","versa/api/XhrHelper","versa/api/Folders","versa/api/Shares","versa/api/Preferences"],function(_1){var o=_1("versa.api.Zone",[versa.api._Object,versa.api._Configurable],{subdomain:null,_groups:null,_libraries:null,_roles:null,_shares:null,_users:null,_documentTypes:new Array(),_propertyDefinitions:new Array(),_propertyMappings:new Array(),_choiceLists:new Array(),_choiceValues:new Array(),_cellDefinitions:new Array(),_viewDefinitions:new Array(),constructor:function(_2){dojo.safeMixin(this,((!_2)?{}:_2));},getGroups:function(){if(!this._groups){this._groups=new versa.api.Groups({zone:this});}return this._groups;},getLibraries:function(){if(!this._libraries){this._libraries=new versa.api.Libraries({zone:this});}return this._libraries;},getMetrics:function(_3){var _4=dojo.replace(versa.api.Zone.MT_TRGT,[this.subdomain]);var _5=versa.api.XhrHelper.doGetAction({target:_4});return _5;},getRoles:function(){if(!this._roles){this._roles=new versa.api.Roles({zone:this});}return this._roles;},getShares:function(){if(!this._shares){this._shares=new versa.api.Shares({zone:this});}return this._shares;},getUsers:function(){if(!this._users){this._users=new versa.api.Users({zone:this});}return this._users;},getPropertyDefinitions:function(_6){if(!this._propertyDefinitions[_6.id]){this._propertyDefinitions[_6.id]=new versa.api.PropertyDefinitions({zone:this,library:_6});}return this._propertyDefinitions[_6.id];},getDocumentTypes:function(_7){if(!this._documentTypes[_7.id]){this._documentTypes[_7.id]=new versa.api.DocumentTypes({zone:this,library:_7});}return this._documentTypes[_7.id];},getChoiceLists:function(_8){if(!this._choiceLists[_8.id]){this._choiceLists[_8.id]=new versa.api.ChoiceLists({zone:this,library:_8});}return this._choiceLists[_8.id];},getChoiceValues:function(_9){if(!this._choiceValues[_9.id]){this._choiceValues[_9.id]=new versa.api.ChoiceValues({zone:this,library:_9});}return this._choiceValues[_9.id];},getPropertyMappings:function(_a){if(!this._propertyMappings[_a.id]){this._propertyMappings[_a.id]=new versa.api.PropertyMappings({zone:this,library:_a});}return this._propertyMappings[_a.id];},getCellDefinitions:function(_b){if(!this._cellDefinitions[_b.id]){this._cellDefinitions[_b.id]=new versa.api.CellDefinitions({zone:this,library:_b});}return this._cellDefinitions[_b.id];},getViewDefinitions:function(_c){if(!this._viewDefinitions[_c.id]){this._viewDefinitions[_c.id]=new versa.api.ViewDefinitions({zone:this,library:_c,cellDefinitions:this.getCellDefinitions(_c)});}return this._viewDefinitions[_c.id];},isAlive:function(){var _d=dojo.replace(versa.api.Zone.ISALIVE_URL,this);var _e={};var _f=versa.api.XhrHelper.doPostAction({target:_d,postData:_e});return true;},logon:function(_10,_11){var url=dojo.replace(versa.api.Zone.LOGIN_URL,this);var _12={username:_10,password:_11};var _13=versa.api.XhrHelper.doPostAction({target:url,postData:_12});return new versa.api.User(_13);},logoff:function(){var url=dojo.replace(versa.api.Zone.LOGOUT_URL,this);var _14={};var _15=versa.api.XhrHelper.doPostAction({target:url,postData:_14});return _15;},resetPassword:function(_16,_17){var url=dojo.replace(versa.api.Zone.RESET_URL,this);var _18={username:_16,email:_17};var _19=versa.api.XhrHelper.doPostAction({target:url,postData:_18});return _19;}});o.TrialStates={"EXPIRED":0,"NO_TRIAL":-1,"INFINITE":65535};o.LOGIN_URL="/zones/{subdomain}/logon.json";o.LOGOUT_URL="/zones/{subdomain}/logoff.json";o.ISALIVE_URL="/zones/{subdomain}/alive.json";o.MT_TRGT="/zones/{0}/metrics.json";o.RESET_URL="/zones/{subdomain}/reset.json";o.schema={type:"object",properties:{"id":{type:"integer"},"name":{type:"string","default":""},"subdomain":{type:"string"},"active_permissions":{type:"integer","default":0},"created_at":{type:"date",format:"date-time"},"updated_at":{type:"date",format:"date-time"}},prototype:new o()};return o;});