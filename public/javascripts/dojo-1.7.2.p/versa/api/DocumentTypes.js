//>>built
define("versa/api/DocumentTypes",["dojo/_base/declare","versa/api/DocumentTypes","versa/api/_Collection","versa/api/DocumentType"],function(_1){var o=_1("versa.api.DocumentTypes",[versa.api._Collection],{library:null,_isUpdateable:function(_2){return false;},_matchesQuery:function(_3,_4){if(dojo.isArray(_3)||(_3.hasOwnProperty("sort_order"))){return false;}var _5=_4.query;var _6=_4.queryOptions&&_4.queryOptions.ignoreCase;for(var i in _5){var _7=_5[i];var _8=this.getValue(_3,i);if((typeof _7=="string"&&(_7.match(/[\*\.]/)||_6))?!dojo.data.util.filter.patternToRegExp(_7,_6).test(_8):_8!=_7){return false;}}return true;},constructor:function(_9){this.zone=_9.zone;this.library=_9.library;this.target=dojo.replace(versa.api.DocumentTypes.TRGT,[this.zone.subdomain,this.library.id]);this.schema=versa.api.DocumentType.schema;this.cache=true;this._initialize();this.store.matchesQuery=dojo.hitch(this,this._matchesQuery);},getMetrics:function(_a){var _b=dojo.replace(versa.api.DocumentTypes.MT_TRGT,[_a.zone.subdomain,_a.library.id]);var _c=versa.api.XhrHelper.doGetAction({target:_b});return _c;},getSystem:function(){var _d=[];this.forEach(function(_e){if(_e.is_system){_d.push(_e);}},this);if(_d.length<1){throw new Error("No system-defined document types were found");}return _d;}});o.TRGT="/zones/{0}/libraries/{1}/document_types";o.MT_TRGT="/zones/{0}/libraries/{1}/document_types/dtmetrics.json";return o;});