//>>built
define("versa/api/Utilities",["dojo/_base/declare"],function(_1){var o=_1("versa.api.Utilities",[],{});o.uniqueIdBase=(new Date()).getTime();o.randomNumber=function(_2){var l=_2.lowerBound;var u=_2.upperBound;return (Math.floor(Math.random()*(u-l))+l);};o.readablizeBytes=function(_3){var _4="";var _5=_3.bytes;if((_5==null)||(_5==Number.NaN)){return "???";}if(_5<1){return "0 bytes";}var s=["bytes","KB","MB","GB","TB","PB"];var e=Math.floor(Math.log(_5)/Math.log(1024));if(e>0){_4=(_5/Math.pow(1024,Math.floor(e))).toFixed(2)+" "+s[e];}else{_4=(_5/Math.pow(1024,Math.floor(e))).toFixed(0)+" "+s[e];}return _4;};o.readabilizeSeconds=function(_6){var s=_6.seconds;var d=Number(s);var h=Math.floor(d/3600);var m=Math.floor(d%3600/60);var s=Math.floor(d%3600%60);return ((h>0?h+":":"")+(m>0?(h>0&&m<10?"0":"")+m+":":"0:")+(s<10?"0":"")+s);};o.generateUniqueId=function(_7){return versa.api.Utilities.uniqueIdBase++;};o.isArray=function(_8){return _8.constructor==Array;};o.generateUniqueName=function(_9){var _a=_9.names;var _b=_9.base_name;var _c=(_9.appendix)?_9.appendix:"({index})";var _d=_b;var i=0;while(++i){var _e=dojo.indexOf(_a,_d);if(_e<0){break;}_d=dojo.replace("{baseName}"+_c,{baseName:_b,index:i});}return _d;};o.getFileExtension=function(_f){var _10=_f.file_name;var pos=_10.lastIndexOf(".");if(pos<1){return "";}return _10.substring(pos);};o.getFileName=function(_11){var _12=_11.file_name;var pos=_12.lastIndexOf(".");if(pos<1){return _12;}return _12.substring(0,pos);};o.saveUrl=function(_13){var url=_13.url;var _14=_13.window_name;var _15=dojo.string.substitute("width=10,height=10,top=-20,left=-20,toolbar=0,resizable=1,location=0,directories=0,status=0,menubar=0",[]);window.location.href=url;};o.getBox=function(_16){var _17=dojo.window.getBox();var _18=_17.w;var _19=_17.h;var _1a=_18*_16.scale;var _1b=_19*_16.scale;var _1c=(_19/2)-(_1b/2);var _1d=(_18/2)-(_1a/2);return {w:_1a,h:_1b,t:_1c,l:_1d};};o.getFormatStore=function(){var _1e=[{id:versa.api.DataTypes.types.BOOLEAN+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.BOOLEAN,name:"None"},{id:versa.api.DataTypes.types.DATETIME+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.DATETIME,name:"None"},{id:versa.api.DataTypes.types.DATETIME+":"+versa.api.CellDefinition.formats.datetime,format_id:versa.api.CellDefinition.formats.datetime,data_type_id:versa.api.DataTypes.types.DATETIME,name:"Date"},{id:versa.api.DataTypes.types.FLOAT+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.FLOAT,name:"None"},{id:versa.api.DataTypes.types.INTEGER+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.INTEGER,name:"None"},{id:versa.api.DataTypes.types.INTEGER+":"+versa.api.CellDefinition.formats.size,format_id:versa.api.CellDefinition.formats.size,data_type_id:versa.api.DataTypes.types.INTEGER,name:"File Size"},{id:versa.api.DataTypes.types.STRING+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.STRING,name:"None"},{id:versa.api.DataTypes.types.TEXT+":"+versa.api.CellDefinition.formats.none,format_id:versa.api.CellDefinition.formats.none,data_type_id:versa.api.DataTypes.types.TEXT,name:"None"}];return new versa.api.ItemFileWriteStore({data:{identifier:"id",label:"name",items:_1e}});};o.viewUrl=function(_1f){var box=_1f.windowBox;var url=_1f.url;var _20=_1f.window_name;var _21=dojo.string.substitute("width=${0},height=${1},top=${2},left=${3},toolbar=0,resizable=1,location=0,directories=0,status=0,menubar=0,scrollbars=1",[box.w,box.h,box.t,box.l]);if(!dojo.isIE){var win=window.open(url,_20,_21);win.focus();}else{var win=window.open(url,"_blank",_21);win.focus();}};o.iePdfPluginInstalled=function(){if(window.ActiveXObject){var _22=null;try{_22=new ActiveXObject("AcroPDF.PDF");}catch(e){}if(!_22){try{_22=new ActiveXObject("PDF.PdfCtrl");}catch(e){}}if(_22){return true;}}return false;};o.formatDate=function(_23){var _24=(_23.getUTCMonth()+1).toString();var _25=_23.getUTCDate().toString();var _26=_23.getUTCHours().toString();_24=_24.length==1?"0"+_24:_24;_25=_25.length==1?"0"+_25:_25;_26=_26.length==1?"0"+_26:_26;return _23.getUTCFullYear()+"-"+_24+"-"+_25+"T"+_26+":00:00Z";};o.validateEmail=function(str){var _27=str.lastIndexOf("@");if(_27<1){return false;}if(_27==str.length-1){return false;}if(_27>64){return false;}if(str.length-_27>255){return false;}var _28=str.lastIndexOf(".");if(_28>_27+1&&_28<str.length-1){return true;}if(str.charAt(_27+1)=="["&&str.charAt(str.length-1)=="]"){return true;}return false;};return o;});