//>>built
define("versa/api/Folders",["dojo/_base/declare","versa/api/_Collection","versa/api/Folder","versa/api/Utilities"],function(_1){var o=_1("versa.api.Folders",[versa.api._Collection],{library:null,_getExistingNames:function(_2){var _3=[];if((_2)&&(_2.children)){dojo.forEach(_2.children,function(_4){_3.push(_4.name);});}return _3;},constructor:function(_5){this.zone=_5.zone;this.library=_5.library;this.target=dojo.replace(versa.api.Folders.TRGT,[this.zone.subdomain,this.library.id]);this.schema=versa.api.Folder.schema;this.cache=true;this._initialize();},generateUniqueName:function(_6){var _7=this._getExistingNames(_6.parent);var _8=_6.base_name;return versa.api.Utilities.generateUniqueName({names:_7,base_name:_8});},getTextPath:function(_9){var _a=_9.item;if(_a.parent_id){var _b=this.fetchById({id:_a.parent_id});return this.getTextPath({item:_b})+"/"+_a.name;}else{return "/"+_a.name;}}});o.TRGT="/zones/{0}/libraries/{1}/folders";o.generateUniqueName=function(_c){var _d=_c.folder;var _e=[];dojo.forEach(_d.children,function(_f){_e.push(_f.name);});return versa.api.Utilities.generateUniqueName({names:_e,base_name:_c.base_name});};return o;});