/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.api.User"]){dojo._hasResource["bfree.api.User"]=true;dojo.provide("bfree.api.User");dojo.require("bfree.api._Object");dojo.declare("bfree.api.User",[bfree.api._Object],{email:null,first_name:null,last_name:null,group:null,reset_password:null,constructor:function(_1){dojo.safeMixin(this,((!_1)?{}:_1));},getAvatarUrl:function(_2){return dojo.replace(bfree.api.User.AVT_TRGT,[_2.zone.subdomain,this.id]);},getFullName:function(){var _3=(this.last_name==null)?"":this.last_name;if((this.first_name!=null)&&(this.first_name!="")){_3+=(_3=="")?this.first_name:", "+this.first_name;}return (_3.length<1)?this.name:_3;},isValid:function(){var _4=true;if(String.isEmpty(this.name)){_4=false;}if(this.name.length<4){_4=false;}if(this.name.indexOf(" ")>=0){_4=false;}if(!bfree.api.Utilities.validateEmail(this.email)){_4=false;}if(this.password){if(String.isEmpty(this.password)||(this.password.length<8)){_4=false;}}if(String.isEmpty(this.email)){_4=false;}return _4;}});bfree.api.User.AVT_TRGT="/zones/{0}/users/{1}/avatar";bfree.api.User.schema={type:"object",properties:{"id":{type:"integer"},"name":{type:"string","default":""},"email":{type:"string","default":""},"first_name":{type:"string","default":""},"last_name":{type:"string","default":""},"password":{type:"string","default":""},"active_group":{type:"integer","default":0},"created_at":{type:"string",format:"date-time","default":dojo.date.stamp.toISOString(new Date(),{zulu:true})},"created_by":{type:"string","default":""},"updated_at":{type:"string",format:"date-time","default":dojo.date.stamp.toISOString(new Date(),{zulu:true})},"updated_by":{type:"string","default":""}},prototype:new bfree.api.User()};}