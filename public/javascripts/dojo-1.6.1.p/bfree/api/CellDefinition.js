/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.api.CellDefinition"]){dojo._hasResource["bfree.api.CellDefinition"]=true;dojo.provide("bfree.api.CellDefinition");dojo.require("bfree.api._Object");dojo.require("bfree.api.Error");dojo.require("bfree.widget.document.DraggableGridItem");dojo.declare("bfree.api.CellDefinition",[bfree.api._Object],{constructor:function(_1){if(_1){dojo.safeMixin(this,_1);}}});bfree.api.CellDefinition.compare=function(_2,_3){return _2.column_order-_3.column_order;};bfree.api.CellDefinition.getDbName=function(_4){return dojo.replace("{table_name}.{column_name}",_4);};bfree.api.CellDefinition.formats={"none":0,"icon":1,"size":2,"status":4,"datetime":8,"date":16,"time":32};bfree.api.CellDefinition.formatStatus=function(_5,_6){var _7=this.grid.getItem(_6);var _8="none.16.png";if((_7)&&(_7.getState(bfree.api.Document.states.CHECKED_OUT))){_8="cko.16.png";}return dojo.replace("<img name=\"statusIcon\" src=\"/images/icons/states/{0}\" width=\"16\" height=\"16\" style=\"position:relative;top:1px;left:1px\"/>",[_8]);};bfree.api.CellDefinition.formatIcon=function(_9,_a){var _b=this.grid.getItem(_a);var _c=bfree.api.Document.getIconUrl(_9,16);var _d=dojo.replace("<img src=\"{0}\" width=\"16\" height=\"16\"/>",[_c]);var _e=new bfree.widget.document.DraggableGridItem({data:_d,document:_b,grid:this.grid});return _e;};bfree.api.CellDefinition.formatSize=function(_f,_10){var _11=_f;var _12=bfree.api.Utilities.readablizeBytes({bytes:_11});var _13=this.grid.getItem(_10);var _14=new bfree.widget.document.DraggableGridItem({data:_12,document:_13,grid:this.grid});return _14;};bfree.api.CellDefinition.formatData=function(_15,_16){var _17=this.grid.getItem(_16);var _18=new bfree.widget.document.DraggableGridItem({data:_15==null?"":_15,document:_17,grid:this.grid});return _18;};bfree.api.CellDefinition.schema={type:"object",properties:{"id":{type:"integer"},"view_definition_id":{type:"integer"},"table_name":{type:"string"},"column_name":{type:"string"},"name":{type:"string"},"label":{type:"string"},"formatter":{type:"integer","default":bfree.api.CellDefinition.formats.none},"noresize":{type:"boolean","default":false},"width":{type:"string","default":"128px"},"style":{type:"string","default":""},"column_order":{type:"integer","default":1},"date_format":{type:"string","default":""}},prototype:new bfree.api.CellDefinition()};}