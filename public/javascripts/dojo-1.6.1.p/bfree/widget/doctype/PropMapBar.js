/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.widget.doctype.PropMapBar"]){dojo._hasResource["bfree.widget.doctype.PropMapBar"]=true;dojo.provide("bfree.widget.doctype.PropMapBar");dojo.require("bfree.widget.Bfree");dojo.require("dijit.Toolbar");dojo.require("bfree.widget.Button");dojo.declare("bfree.widget.doctype.PropMapBar",[dijit.Toolbar],{_btnAdd:null,_btnDown:null,_btnRemove:null,_btnUp:null,activeDocType:null,activePropMap:null,disabled:false,grid:null,valueStore:null,_onCommand:function(_1,e){this.onCommand(_1);},_setActiveDocTypeAttr:function(_2){this.activeDocType=_2;this._setState();},_setActivePropMapAttr:function(_3){this.activePropMap=_3;this._setState();},_setDisabledAttr:function(_4){this.disabled=_4;this._setState();},_setState:function(){if(this.disabled){this._btnAdd.set("disabled",this.disabled);this._btnUp.set("disabled",this.disabled);this._btnDown.set("disabled",this.disabled);this._btnRemove.set("disabled",this.disabled);}else{var _5=(this.activeDocType==null);var _6=(this.activePropMap==null);var _7=((this.activePropMap)&&(this.activePropMap.is_name[0]));var _8=(this.activePropMap)?this.activePropMap.sort[0]:0;var _9=true;var _a=(_8>0);var _b=(_8<(this.grid.rowCount-1));var _c=!(_5||_6||_7);this._btnAdd.set("disabled",!_9);this._btnUp.set("disabled",!_a);this._btnDown.set("disabled",!_b);this._btnRemove.set("disabled",!_c);}},constructor:function(_d){},destroy:function(){this.destroyDescendants();this.inherited("destroy",arguments);},onCommand:function(_e){},postCreate:function(){this.inherited("postCreate",arguments);this._btnAdd=new bfree.widget.Button({id:"btnAddValue",label:"Add Value to Document Type...",showLabel:false,disabled:false,iconClass:"sidebarIcon bfreeIconAdd",disabledIconClass:"sidebarIcon bfreeIconAddD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.ADD)});this.addChild(this._btnAdd);this._btnUp=new bfree.widget.Button({id:"btnValueUp",label:"Move Value up",showLabel:false,disabled:false,iconClass:"sidebarIcon bfreeIconUp",disabledIconClass:"sidebarIcon bfreeIconUpD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.MOVE_UP)});this.addChild(this._btnUp);this._btnDown=new bfree.widget.Button({id:"btnValueDown",label:"Move Value down",showLabel:false,disabled:false,iconClass:"sidebarIcon bfreeIconDown",disabledIconClass:"sidebarIcon bfreeIconDownD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.MOVE_DOWN)});this.addChild(this._btnDown);this._btnRemove=new bfree.widget.Button({id:"btnRemoveValue",label:"Remove Value from Document Type",showLabel:false,disabled:false,iconClass:"sidebarIcon bfreeIconRemove",disabledIconClass:"sidebarIcon bfreeIconRemoveD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.REMOVE)});this.addChild(this._btnRemove);},startup:function(){this.inherited("startup",arguments);}});}