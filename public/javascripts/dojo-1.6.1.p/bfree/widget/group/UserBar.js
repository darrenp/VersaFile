/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.widget.group.UserBar"]){dojo._hasResource["bfree.widget.group.UserBar"]=true;dojo.provide("bfree.widget.group.UserBar");dojo.require("bfree.widget.Bfree");dojo.require("dijit.Toolbar");dojo.require("bfree.widget.Button");dojo.declare("bfree.widget.group.UserBar",[dijit.Toolbar],{_btnAdd:null,_btnRemove:null,activeGroup:null,activeUser:null,disabled:false,_onCommand:function(_1,e){this.onCommand(_1);},_setActiveGroupAttr:function(_2){this.activeGroup=_2;this._setState();},_setActiveUserAttr:function(_3){this.activeUser=_3;this._setState();},_setDisabledAttr:function(_4){this.disabled=_4;this._setState();},_setState:function(){if(this.disabled){this._btnAdd.set("disabled",this.disabled);this._btnRemove.set("disabled",this.disabled);}else{var _5=(this.activeGroup==null);var _6=(this.activeUser==null);var _7=(this.activeGroup)?this.activeGroup.is_everyone:false;var _8=(this.activeUser)?this.activeUser.is_admin[0]:false;var _9=!(_5||_7);var _a=!(_5||_6||_8||_7);this._btnAdd.set("disabled",!_9);this._btnRemove.set("disabled",!_a);}},constructor:function(_b){},destroy:function(){this.destroyDescendants();this.inherited("destroy",arguments);},onCommand:function(_c){},postCreate:function(){this.inherited("postCreate",arguments);this._btnAdd=new bfree.widget.Button({id:"btnAddUser",label:"Add User to Group...",showLabel:false,disabled:false,iconClass:"commandIcon bfreeIconAdd",disabledIconClass:"sidebarIcon bfreeIconAddD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.ADD)});this.addChild(this._btnAdd);this._btnRemove=new bfree.widget.Button({id:"btnRemoveUser",label:"Remove User from Group",showLabel:false,disabled:false,iconClass:"sidebarIcon bfreeIconRemove",disabledIconClass:"commandIcon bfreeIconRemoveD",onClick:dojo.hitch(this,this._onCommand,bfree.widget.Bfree.Commands.REMOVE)});this.addChild(this._btnRemove);},startup:function(){this.inherited("startup",arguments);}});}