/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.widget.document.version.Versions"]){dojo._hasResource["bfree.widget.document.version.Versions"]=true;dojo.provide("bfree.widget.document.version.Versions");dojo.require("bfree.widget.document.version.Grid");dojo.declare("bfree.widget.document.version.Versions",[dijit._Widget,dijit._Templated,bfree.widget._DialogWidget],{templateString:dojo.cache("bfree/widget/document/version","template/Versions.html","<div style=\"height:100%;width:100%;\">\n\n    <div    dojoType=\"dijit.layout.BorderContainer\"\n            design=\"headline\"\n            gutters=\"false\"\n            style=\"height:100%;width:100%;\">\n\n        <div    dojoType=\"dijit.layout.ContentPane\"\n                region=\"center\"\n                splitter=\"false\"\n                style=\"\">\n\n            <div dojoAttachPoint=\"gridNode\"></div>\n\n        </div>\n\n    </div>\n\n</div>\n"),widgetsInTemplate:true,_grdVersions:null,document:null,library:null,zone:null,constructor:function(_1){},destroy:function(){this.inherited("destroy",arguments);},_onCommand:function(_2,_3,e){this.onCommand(_2,_3,e);},onCommand:function(_4,_5,e){},postCreate:function(){this.document.library=this.library;this.document.zone=this.zone;this._grdVersions=new bfree.widget.document.version.Grid({id:"grdVersions","class":"versaGridOutline",versions:this.document.getVersions(),document:this.document,onCommand:dojo.hitch(this,this._onCommand)},this.gridNode);this._grdVersions.startup();this.inherited("postCreate",arguments);},destroy:function(){if(this._grdVersions){this._grdVersions.destroyRecursive();this._grdVersions=null;}},onDialogClosing:function(){return true;},startup:function(){this.inherited("startup",arguments);this._grdVersions.resize();}});bfree.widget.document.version.Versions.show=function(_6){var _7=new bfree.widget.Dialog({id:"dlgVersions",title:"Versions",widgetConstructor:bfree.widget.document.version.Versions,widgetParams:{document:_6.document,library:_6.library,zone:_6.zone,onCommand:_6.onCommand},noResize:true,height:480,width:480,zIndex:1024,buttons:bfree.widget.Dialog.buttons.close,onClose:function(){return true;}});_7.startup();_7.show();};}