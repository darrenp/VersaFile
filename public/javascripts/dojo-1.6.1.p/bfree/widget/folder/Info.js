/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.widget.folder.Info"]){dojo._hasResource["bfree.widget.folder.Info"]=true;dojo.provide("bfree.widget.folder.Info");dojo.require("dijit._Widget");dojo.require("dijit._Templated");dojo.declare("bfree.widget.folder.Info",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("bfree/widget/folder","template/Info.html","<div style=\"padding:4px 0 0 72px;position:relative;height:100%;width:100%\">\n\n    <div style=\"position:absolute;top:8px;left:8px\">\n        <img dojoAttachPoint=\"typeIconNode\" src=\"/images/mimetypes/48/folder.png\" height=\"48\" width=\"48\"/>\n    </div>\n\n    <div class=\"dijitBoldLabel dijitLargeLabel dijitDarkLabel\" dojoAttachPoint=\"nameNode\" style=\"margin-right:80px\"></div>\n    <div dojoAttachPoint=\"tableNode\"></div>\n\n\t<!-- table style=\"height:100%;width:100%;\">\n\t\t<tr>\n\t\t\t<td style=\"vertical-align:middle;width:48px\">\n\t\t\t\t<img dojoAttachPoint=\"typeIconNode\" src=\"/images/mimetypes/48/folder.png\" height=\"48\" width=\"48\"></img>\n\t\t\t</td>\n\t\t\t<td style=\"padding:0 0 0 16px;width:100%\">\n\t\t\t\t<table style=\"height:100%;width:100%\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td style=\"vertical-align:bottom;width:33%\">\n\t\t\t\t\t\t\t<table style=\"height:100%;width:100%\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"titleNode\" colspan=\"2\" class=\"largeLabel darkBoldLabel\" style=\"height:20%;white-space:nowrap;\"></td>\t\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"mediumLabel darkLabel\" style=\"height:20%;padding:0 4px 0 0;white-space:nowrap;width:1px;\">Type:</td>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"typeNode\" class=\"mediumLabel darkBoldLabel\">Folder</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"mediumLabel darkLabel\" style=\"height:20%;padding:0 4px 0 0;white-space:nowrap;\">Document Count:</td>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"countNode\" class=\"mediumLabel darkBoldLabel\"></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"mediumLabel darkLabel\" style=\"height:20%;padding:0 4px 0 0;white-space:nowrap;\">Path:</td>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"fullPathNode\" class=\"mediumLabel darkBoldLabel\"></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"updatedAtNodeLabel\" class=\"mediumLabel darkLabel\" style=\"height:20%;padding:0 4px 0 0;white-space:nowrap;\">Date Modified:</td>\n\t\t\t\t\t\t\t\t\t<td dojoAttachPoint=\"updatedAtNode\" class=\"mediumLabel darkBoldLabel\"></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</td>\n\t\t</tr>\n\t</table -->\n\t\n\n</div>\n"),widgetsInTemplate:false,_lblCount:null,_lblUpdatedAt:null,_tblProperties:null,root:null,activeItem:null,folders:null,destroy:function(){this.destroyDescendants();if(this._tblProperties){this._tblProperties.destroyRecursive();this._tblProperties=null;}this.inherited("destroy",arguments);},postCreate:function(){this.inherited("postCreate",arguments);var _1="Folder";var _2="folder.png";if(this.activeItem.is_trash){_1="Recycle Bin";_2="recyclebin.png";}else{if(this.activeItem.is_search){_1="Searches";_2="search.png";}}dojo.attr(this.typeIconNode,"src",dojo.replace("/images/mimetypes/48/{0}",[_2]));dojo.attr(this.typeIconNode,"alt",_1);this.nameNode.innerHTML=this.activeItem.name.length>100?this.activeItem.name.substr(0,100)+"...":this.activeItem.name;this._tblProperties=new bfree.widget.PropertyTable({customClass:"versafoot",showLabels:true,cols:1,labelWidth:112,style:""},this.tableNode);this._lblType=new bfree.widget.Label({label:"Type",value:_1});this._tblProperties.addChild(this._lblType);this._lblCount=new bfree.widget.Label({label:"Document Count",value:this.activeItem.document_count});this._tblProperties.addChild(this._lblCount);this._lblPath=new bfree.widget.Label({label:"Path",value:this.activeItem.text_path.length>100?this.activeItem.text_path.substr(0,100):this.activeItem.text_path});this._tblProperties.addChild(this._lblPath);this._lblUpdatedAt=new bfree.widget.Label({label:"Last Modified Date",value:dojo.date.locale.format(this.activeItem.updated_at,{formatLength:"medium"})});this._tblProperties.addChild(this._lblUpdatedAt);},startup:function(){this.inherited("startup",arguments);this._tblProperties.startup();}});}