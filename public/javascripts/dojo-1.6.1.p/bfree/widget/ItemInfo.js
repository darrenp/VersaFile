/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["bfree.widget.ItemInfo"]){dojo._hasResource["bfree.widget.ItemInfo"]=true;dojo.provide("bfree.widget.ItemInfo");dojo.require("bfree.widget.document.Info");dojo.require("bfree.widget.document.multiple.Info");dojo.require("bfree.widget.folder.Info");dojo.require("bfree.widget.search.Info");dojo.require("dijit._Templated");dojo.require("dijit._Widget");dojo.declare("bfree.widget.ItemInfo",[dijit._Widget,dijit._Templated],{templateString:null,templateString:dojo.cache("bfree/widget","template/ItemInfo.html","<div dojoAttachPoint=\"mainNode\" style=\"height:100%;position:relative;width:100%\">\n\n<!-- div dojoAttachPoint=\"loadingNode\" style=\"position:absolute;top:0;left:0\">\n    <div style=\"position:absolute;top:8px;left:8px\">\n        <img dojoAttachPoint=\"typeIconNode\" src=\"/images/loading/loading48.gif\" height=\"48\" width=\"48\"/>\n    </div>\n    <div class=\"dijitBoldLabel dijitLargeLabel dijitDarkLabel\" dojoAttachPoint=\"nameNode\" style=\"white-space:nowrap;position:absolute;top:4px;left:74px\">Loading information...</div>\n</div -->\n\n</div>\t\n"),widgetsInTemplate:true,library:null,preferences:null,root:null,_item:null,_wdgInfo:null,postCreate:function(){this.inherited("postCreate",arguments);},_deleteWidget:function(){if(this._wdgInfo){this._wdgInfo.destroy(false);this._wdgInfo=null;}},clear:function(_1){this._deleteWidget();},addItem:function(_2){var _3=_2.type;var _4=_2.item;var _5=_2.folders;if(_2.item==null){return;}if(_4.isInstanceOf(bfree.api.Document)){if((this._wdgInfo)&&(!this._wdgInfo.isInstanceOf(bfree.widget.document.Info))){this._deleteWidget();}if(!this._wdgInfo){this._wdgInfo=new bfree.widget.document.Info({library:this.library});}this._wdgInfo.addItem(_4);}else{if(_4.isInstanceOf(bfree.api.Folder)){if((this._wdgInfo)&&(!this._wdgInfo.isInstanceOf(bfree.widget.folder.Info))){this._deleteWidget();}this._wdgInfo=new bfree.widget.folder.Info({root:this.root,folders:_5});}}if(this._wdgInfo){this._wdgInfo.placeAt(this.mainNode,"last");this._wdgInfo.startup();}},errorItem:function(_6){if(!this._wdgInfo){return;}this._wdgInfo.errorItem(_6.item,_6.isDeleted);},loadItem:function(_7){if(!this._wdgInfo){return;}this._wdgInfo.loadItem(_7.item);},preload:function(_8,_9){if(this._wdgInfo){this._deleteWidget();}switch(_8){case bfree.widget.Bfree.ObjectTypes.DOCUMENT:this._wdgInfo=new bfree.widget.document.Info({items:_9,library:this.library});break;case bfree.widget.Bfree.ObjectTypes.FOLDER:this._wdgInfo=new bfree.widget.folder.Info({items:_9,library:this.library});}if(this._wdgInfo){this._wdgInfo.placeAt(this.mainNode,"last");this._wdgInfo.startup();}}});bfree.widget.ItemInfo.Type={"none":0,"document":1,"folder":2,"search":3};}