/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["versa.widget.reference.Accessor"]){dojo._hasResource["versa.widget.reference.Accessor"]=true;dojo.provide("versa.widget.reference.Accessor");dojo.declare("versa.widget.reference.Accessor",null,{activeLibrary:null,activeZone:null,constructor:function(_1){dojo.safeMixin(this,((!_1)?{}:_1));},doCancelCheckout:function(_2){try{_2.cancelCheckout({zone:this.activeZone,library:this.activeLibrary});this.activeLibrary.getDocuments().invalidate(_2.document_id);}finally{this.activeLibrary.getReferences().refreshItem(_2.getId());}},doCheckout:function(_3,_4){try{_3.checkout({zone:this.activeZone,library:this.activeLibrary});this.activeLibrary.getDocuments().invalidate(_3.document_id);}finally{this.activeLibrary.getReferences().refreshItem(_3.getId());}},doCopyLocal:function(_5,_6){_5.copyLocal({version_id:_6,zone:this.activeZone,library:this.activeLibrary});},doMove:function(_7,_8){_8.file({zone:this.activeZone,library:this.activeLibrary,folder:_7});},doRestore:function(_9,_a){try{_a.restore({zone:this.activeZone,library:this.activeLibrary,folder:_9});}finally{this.activeLibrary.getReferences().refreshItem(_a.getId());}},doShare:function(_b,_c){_c.share({zone:this.activeZone,library:this.activeLibrary,folder:_b});},doUnshare:function(_d){_d.unshare({zone:this.activeZone,library:this.activeLibrary});},doView:function(_e,_f){var box=bfree.api.Utilities.getBox({scale:0.75});_e.view({version_id:_f,zone:this.activeZone,library:this.activeLibrary,windowBox:box});}});}