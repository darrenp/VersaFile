/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["versa.widget.share.Grid"]){dojo._hasResource["versa.widget.share.Grid"]=true;dojo.provide("versa.widget.share.Grid");dojo.require("bfree.widget._Grid");dojo.require("versa.widget.share.SharedItem");dojo.declare("versa.widget.share.Grid",bfree.widget._Grid,{activeShare:null,zone:null,_canEdit:function(_1,_2){return false;},_canSort:function(_3){return false;},_onCommand:function(_4,_5,_6){this.onCommand(_4,_5,_6);},_onRowContextMenu:function(_7){if((this._mnuVersion==null)||(_7.rowIndex<0)){this.rowHit=false;_7.cancelBubble=true;}else{var _8=this.selection.selected[_7.rowIndex];var _9;if(_8){_9=this.getItem(_7.rowIndex);}else{this.selection.clear();_9=this.getItem(_7.rowIndex);this.selection.select(_7.rowIndex);this._mnuVersion.rowHit=true;this._mnuVersion.activeItem=_9;}this._mnuVersion.rowHit=true;this._mnuVersion.activeItem=_9;}},_setActiveShareAttr:function(_a){this.activeShare=_a;this.setStore(this.activeShare.getSharedItems({zone:this.zone}).store,{},{cache:true});},constructor:function(_b){this.updateDelay=0;this.rowsPerPage=25;this.formatterScope=this;this.query={};this.queryOptions={cache:true};this.selectionMode="none";this.clientSort=false;this.canEdit=this._canEdit;this.canSort=this._canSort;this.noDataMessage="No Documents found";this.sortInfo=4;},postCreate:function(){this.inherited("postCreate",arguments);this.set("structure",versa.widget.share.Grid.view);},onRowDblClick:function(_c){if(_c.rowIndex<0){_c.cancelBubble=true;return;}var _d=this.getItem(_c.rowIndex);this._onCommand(bfree.widget.Bfree.Commands.VIEW,bfree.widget.Bfree.ObjectTypes.DOCUMENT,{items:[_d]});},onCommand:function(_e,_f,_10){},startup:function(){this.inherited("startup",arguments);}});versa.widget.share.Grid.generateItem=function(idx,_11){return new versa.widget.share.SharedItem({item:_11,grid:this.grid});};versa.widget.share.Grid.view=[{cells:[{field:"id",name:"&nbsp;",width:"auto",get:versa.widget.share.Grid.generateItem}],width:"auto"}];}